{"version":3,"sources":["webpack:///./src/components/DeleteAccount.vue?56d3","webpack:///./src/views/Profile.vue","webpack:///./src/components/DeleteAccount.vue","webpack:///./src/components/DeleteAccount.vue?d0f6","webpack:///./src/views/Profile.vue?d912","webpack:///./src/views/Profile.vue?d11b"],"names":["id","class","for","_createElementVNode","_hoisted_12","_hoisted_17","_createElementBlock","_createVNode","_component_Navbar","$data","_toDisplayString","username","type","ref","name","onChange","$options","accept","aria-label","_component_ProfileImage","src","imageProfile","onClick","_hoisted_15","_hoisted_21","onSubmit","_ctx","_hoisted_24","alt","_hoisted_28","$event","_hoisted_30","_hoisted_32","_hoisted_34","_hoisted_36","_component_DeleteAccount","display","displayDeleteBloc","lastname","firstname","bio","email","$props","_hoisted_4","_hoisted_5","props","created","this","notyf","Notyf","duration","position","x","y","methods","deleteAccount","userId","localStorage","getItem","axios","delete","headers","then","success","clear","$router","push","catch","error","msgerror","response","data","__exports__","components","Navbar","ProfileImage","DeleteAccount","revele","user","bloc","showInput","imgPreview","newImageProfile","displayProfile","get","setItem","console","log","displayModify","onFileSelected","event","$refs","uploadFile","click","target","files","uploadImgProfile","imgData","FormData","append","put","res","userImg","userFound","window","location","reload","onFormFileSelected","length","URL","createObjectURL","uploadFormFile","refs","updateProfile","formData","deleteProfile","render"],"mappings":"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","file":"js/chunk-77da1ce8.bcd7e63d.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./DeleteAccount.vue?vue&type=style&index=0&id=58e36f82&scoped=true&lang=scss\"","<template>\r\n    <div id=\"app\" class=\"app-profile\">\r\n        <Navbar/>\r\n        <div class=\"container welcom\">\r\n            <h1 v-if=\"user\" class=\"title\">Bienvenue {{ user.username }} !</h1>\r\n        </div>\r\n\r\n        <!-- Affiche les informations du profil-->\r\n        <div class =\"container profile-infos\">\r\n            <div class=\"row background-profile\">\r\n                <div class=\"col-md-4 img-content\">\r\n                    <div class=\"img-profile\">\r\n                        <input type=\"file\" ref=\"uploadFile\" name=\"image\" @change=\"onFileSelected\"  accept=\"image/*\" id=\"file-input\" aria-label=\"Modifier ma photo de profil\">\r\n                        <label for=\"file-input\"><ProfileImage :src=\"user.imageProfile\" class=\"profile__photo__image\"/></label>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-8 navbar-profile\">\r\n                    <nav>\r\n                        <ul class=\"nav\">\r\n                            <li class=\"navbar-item item-modify\">\r\n                            <div v-on:click=\"displayModify\">\r\n                            <i class=\"fa-solid fa-pen\" id=\"icon\"></i>\r\n                            </div>\r\n                            </li>\r\n                        </ul>\r\n                    </nav>\r\n                </div>\r\n\r\n                <!-- Bloc permettant de modifier le profil -->\r\n                <div class=\"bloc\" v-show=\"revele\">\r\n                    <div class=\"overlay\"></div>\r\n                    <div class=\"bloc-form\">\r\n\r\n                        <div @click=\"displayModify\" class=\"icon-bloc-close\">\r\n                            <i class=\"far fa-times-circle fa-2x modaleBloc__card__title__close\"></i>\r\n                        </div>\r\n                    <div class=\"form-content\">\r\n                        <div class=\"form-color\">\r\n                            <h2>Informations personnelles</h2>\r\n                            <form @submit.prevent=\"onSubmit\">\r\n\r\n                                <div class=\"form-input row\">\r\n                                    <div v-show='showInput' class=\"bloc-upload-img\">\r\n                                            <label for=\"form-file-input\" class=\"form-img-profile label-img-profile\"><i class=\"fa-solid fa-file-arrow-up\"></i><p>Changer ma photo de profil</p></label>\r\n                                            <input type=\"file\" ref=\"uploadFormFile\" name=\"image\" @change=\"onFormFileSelected\"  accept=\"image/*\" id=\"form-file-input\" aria-label=\"Modifier ma photo de profil\">\r\n                                    </div>\r\n                                    <div v-show='imgPreview' class=\"bloc-upload-img\">\r\n                                        <img id=\"image\" :src=\"newImageProfile\" alt=\"image du message\">\r\n                                    </div>       \r\n                                </div>\r\n\r\n                                <div class=\"form-input row\">\r\n                                    <label class=\"col-md-4\" for=\"username\">Pseudo: </label>\r\n                                    <input class=\"col-md-8\" type=\"text\" name=\"username\" id=\"username\" v-model=\"username\">\r\n                                </div>\r\n                                <div class=\"form-input row\">\r\n                                    <label class=\"col-md-4\" for=\"lastname\">Nom: </label>\r\n                                    <input class=\"col-md-8\" type=\"text\" name=\"lastname\" id=\"lastname\" v-model=\"lastname\">\r\n                                </div>\r\n                                <div class=\"form-input row\">\r\n                                    <label class=\"col-md-4\" for=\"firstname\">Prénom: </label>\r\n                                    <input class=\"col-md-8\" type=\"text\" name=\"firstname\" id=\"firstname\" v-model=\"firstname\">\r\n                                </div>\r\n                                <div class=\"form-input row\">\r\n                                    <label class=\"col-md-4\" for=\"bio\">Bio :</label>\r\n                                    <input class=\"col-md-8\" type=\"text\" name=\"bio\" id=\"bio\" v-model=\"bio\">\r\n                                </div>\r\n                                <div class=\"form-input row\">\r\n                                    <label class=\"col-md-4\" for=\"email\">Email: </label>\r\n                                    <input class=\"col-md-8\" type=\"text\" name=\"email\" id=\"email\" v-model=\"email\">\r\n                                </div>\r\n\r\n                                <button v-on:click=\"updateProfile\" class=\"btn form-btn\">Enregistrer</button>\r\n                                \r\n                                <!-- Permet d'accéder au bloc de suppression de compte -->\r\n                                <div class=\"delete-account row\">\r\n                                    <button v-on:click=\"deleteProfile\" class=\"btn display btn-danger\">\r\n                                    <DeleteAccount v-bind:display=\"display\" v-bind:displayDeleteBloc=\"displayDeleteBloc\" id=\"displayDeleteBloc\" />\r\n                                    Supprimer mon compte</button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n\r\n\r\n\r\n            </div>\r\n            <!-- informations du profil -->\r\n            <div class=\"row profile-content\">\r\n                <div class=\"col-md-6 profile-cart\">\r\n                    <p class=\"name\">{{ user.lastname}} {{user.firstname}}</p>\r\n                    <p>Username: {{ user.username}}</p>\r\n                    <p>Bio : {{ user.bio }}</p>\r\n                    <p>Email: {{ user.email}}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n    </div>\r\n    \r\n</template>\r\n\r\n<script>\r\n//Imports\r\nimport axios from 'axios'\r\nimport { Notyf } from 'notyf'\r\nimport 'notyf/notyf.min.css'\r\n\r\n//Importe les composants\r\nimport Navbar from '../components/Navbar.vue'\r\nimport ProfileImage from '../components/ProfileImage.vue'\r\nimport DeleteAccount from '../components/DeleteAccount.vue'\r\n\r\n    export default {\r\n        name: 'Profile',\r\n        components: {\r\n            Navbar,\r\n            ProfileImage,\r\n            DeleteAccount\r\n        },\r\n        data(){\r\n            return{\r\n                display: false,\r\n                revele: false,\r\n                user: \"\",\r\n                username: \"\",\r\n                lastname: \"\",\r\n                firstname: \"\",\r\n                bio: \"\",\r\n                email: \"\",\r\n                imageProfile: null,\r\n                bloc: false,\r\n                showInput: true,\r\n                imgPreview: false,\r\n                newImageProfile: \"\",\r\n            }\r\n        },\r\n        created() {\r\n\t\t\tthis.displayProfile(); \r\n            this.notyf = new Notyf({\r\n                duration: 4000,\r\n                position: {\r\n                    x: 'center',\r\n                    y: 'bottom'\r\n                }\r\n            });\r\n\t\t},\r\n        methods: {\r\n            //Permet d'afficher les informations du profil\r\n            displayProfile() {\r\n                const userId = localStorage.getItem('userId');\r\n\r\n\t\t\t\taxios.get('http://localhost:3000/api/users/profile/' + userId, {\r\n\t\t\t\t\theaders: {\r\n                        'Content-Type' : \"application/json\",\r\n\t\t\t\t\t\t'Authorization': 'Bearer ' + localStorage.getItem('token')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then(response => {\r\n\t\t\t\t\tthis.user = response.data.user;\r\n                    localStorage.setItem('imageProfile', this.user.imageProfile)\r\n                    console.log(this.user);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tconst msgerror = error.response.data\r\n\t\t\t\t\tthis.notyf.error(msgerror.error)\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n            //Affiche le bloc permettant à l'utilisateur de modifier ses informations\r\n            displayModify(){\r\n                this.revele = !this.revele\r\n                this.username = this.user.username\r\n                this.lastname = this.user.lastname\r\n                this.firstname = this.user.firstname\r\n                this.bio = this.user.bio\r\n                this.email = this.user.email\r\n            },\r\n            onFileSelected(event) {\r\n                this.$refs.uploadFile.click()\r\n\t\t\t\tthis.imageProfile = event.target.files[0]\r\n\r\n                if(this.imageProfile){\r\n                    this.uploadImgProfile();\r\n                }\r\n\t\t\t},\r\n            //Permet d'ajouter ou modifier l'image du profil directement sur la fiche profil\r\n            uploadImgProfile(){\r\n                const userId = localStorage.getItem('userId')\r\n                this.email = localStorage.getItem('email')\r\n                const imgData = new FormData();\r\n                console.log(this.email);\r\n                imgData.append(\"image\", this.imageProfile)\r\n                imgData.append(\"email\", this.email)\r\n                    axios.put('http://localhost:3000/api/users/profile/' + userId, imgData, {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t'Authorization': 'Bearer ' + localStorage.getItem('token')\r\n\t\t\t\t\t}\r\n                })\r\n                .then((res) => {\r\n                    const userImg = res.data.userFound.imageProfile\r\n                    localStorage.setItem(\"imageProfile\", userImg)\r\n                    console.log(res.data);\r\n                    window.location.reload()\r\n                }).catch(error => {\r\n\t\t\t\t\tconst msgerror = error.res.data\r\n\t\t\t\t\tthis.notyf.error(msgerror.error)\r\n\t\t\t\t})\r\n                \r\n            },\r\n            onFormFileSelected(event) {\r\n\t\t\t\tthis.imageProfile = event.target.files[0]\r\n                console.log(this.imageProfile);\r\n                if(event.target.files.length > 0){\r\n                    this.newImageProfile = URL.createObjectURL(event.target.files[0]);\r\n                    this.showInput = !this.showInput;\r\n                    this.imgPreview = !this.imgPreview\r\n                }\r\n                \r\n\t\t\t},\r\n            uploadFormFile(){\r\n                this.refs.uploadFormFile.click();\r\n            },\r\n            //Permet à l'utilisateur de modifier ses informations\r\n            updateProfile(){\r\n                const userId = localStorage.getItem('userId')\r\n                const formData = new FormData();\r\n                formData.append(\"image\", this.imageProfile)\r\n                formData.append(\"username\", this.username)\r\n                formData.append(\"lastname\", this.lastname)\r\n                formData.append(\"firstname\", this.firstname)\r\n                formData.append(\"bio\", this.bio);\r\n                formData.append(\"email\", this.email);\r\n\r\n                if(this.imageProfile == null && this.username == \"\" && this.lastname == \"\" && this.firstname == \"\" && this.bio == \"\" && this.email == \"\"){\r\n                    console.log(\"Votre modification n'a pas pu être prise en compte !\");\r\n                    this.displayModify();\r\n                } else {\r\n                   axios.put('http://localhost:3000/api/users/profile/' + userId, formData, {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t'Authorization': 'Bearer ' + localStorage.getItem('token')\r\n\t\t\t\t}\r\n                 })\r\n                .then((response) => {\r\n                    this.user = response.data.user\r\n                    window.location.reload();\r\n                 })\r\n                 .catch((error) => {\r\n                    const msgerror = error.response.data;\r\n                    this.notyf.error(msgerror.error)\r\n                    \r\n                })\r\n                }\r\n            },\r\n            //Permet à l'utilisateur d'afficher le bloc de suppression de compte\r\n            deleteProfile(){\r\n                this.display = !this.display\r\n            }\r\n        \r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.app-profile{\r\n   background: #F6F8FB;\r\n}\r\n.welcom{\r\n    @media (max-width: 776px){\r\n      padding-top: 100px;\r\n    }\r\n    h1{\r\n        margin: 50px 0;\r\n    }\r\n}\r\n.profile-infos{\r\n    border-radius: 15px;\r\n    width: 90%;\r\n    margin: auto;\r\n    \r\n    .background-profile{\r\n        height: 250px;\r\n        border-radius: 10px;\r\n        background: url(\"../assets/vecteur-fond.jpg\");\r\n        background-size: cover;\r\n        position: relative;\r\n        .img-content{\r\n            margin: auto;\r\n            @media (max-width: 775px) {\r\n                position: relative;\r\n                top: 25px;\r\n            }\r\n            .img-profile{\r\n                width: 50%;\r\n                height: 173px;\r\n                display: inline-flex;\r\n                border: 2px solid white;\r\n                border-radius: 50%;\r\n                overflow: hidden;\r\n                .image{\r\n                    width: 100%;\r\n                    height: 169px;\r\n                }\r\n                input{\r\n                    display: none;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    .profile-content{\r\n        background: white;\r\n        position: relative;\r\n        top: -10px;\r\n        z-index: 1;\r\n    }\r\n    .navbar-profile{\r\n        .nav{\r\n            justify-content: right;\r\n            position: relative;\r\n            top: 10px;\r\n            @media (max-width: 775px) {\r\n                justify-content: right;\r\n                position: absolute;\r\n                top: 0;\r\n                right: 0\r\n            }\r\n            li{\r\n                list-style: none;\r\n                #icon{\r\n                    color: white;\r\n                    padding: 10px;\r\n                    font-size: 25px;\r\n                    border-radius: 50px;\r\n                }\r\n                #icon:hover{\r\n                    background: lightgrey;\r\n                }\r\n            }\r\n        }\r\n        \r\n    }\r\n    .bloc{\r\n        position: absolute;\r\n        .overlay {\r\n            background: rgba(0,0,0,0.5);\r\n            position: fixed;\r\n            top: 0;\r\n            bottom: 0;\r\n            left: 0;\r\n            right: 0;\r\n            }\r\n        .bloc-form{\r\n            z-index: 2;\r\n            position: fixed;\r\n            top: 0;\r\n            bottom: 0;\r\n            left: 0;\r\n            right: 0;\r\n            background: lightgrey;\r\n            border-radius: 10px;\r\n            padding: 40px;\r\n            width: 45%;\r\n            margin: 15px auto;\r\n            @media (max-width: 776px){\r\n                width: 95%;\r\n                padding: 0;\r\n            }\r\n            .icon-bloc-close{\r\n                position: absolute;\r\n                top: 10px;\r\n                right: 10px;\r\n                &:hover, &:focus {\r\n                    color: #ff6363;\r\n                    }\r\n            }\r\n            .form-color{\r\n                background: white;\r\n                width: 80%;\r\n                padding: 20px 20px 10px 20px;\r\n                margin: auto;\r\n                border-radius: 10px;\r\n                @media (max-width: 776px){\r\n                width: 100%;\r\n                }\r\n                .bloc-upload-img{\r\n                    display: grid;\r\n                    margin-bottom: 35px;\r\n                    overflow: hidden;\r\n                    .label-img-profile{\r\n                        text-align: center;\r\n                        font-size: 40px;\r\n                        p{\r\n                            font-size: 20px;\r\n                            margin: 0;\r\n                        }\r\n                    }\r\n                    #form-file-input{\r\n                        display: none;\r\n                    }\r\n                    #image{\r\n                        width: 50%;\r\n                        justify-self: center;\r\n                    }\r\n                }\r\n                .btn-img-profile{\r\n                    font-size: 40px;\r\n                }\r\n                .form-btn{\r\n                    border: 3px solid #3f3d56;\r\n                    border-radius: 25px;\r\n                    color: #3f3d56;\r\n                    font-weight: bold;\r\n                    margin: 20px auto;\r\n                    &:hover, &:focus {\r\n                    border: 3px solid #ff6363;\r\n                    color: #ff6363;\r\n                    }   \r\n                }\r\n                h2{\r\n                    margin-bottom: 30px;\r\n                    font-size: 30px;\r\n                }\r\n                .form-input{\r\n                    margin: 5px 10px;\r\n                    @media (max-width: 776px){\r\n                        margin: 0;\r\n                    }\r\n                    label{\r\n                        text-align: left;\r\n                    }\r\n                    input{\r\n                        padding-left: 15px;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    .profile-cart{\r\n        text-align: left;\r\n        margin-left: 20px;\r\n        padding: 35px;\r\n        .name{\r\n            font-size: 35px;\r\n        }\r\n    }\r\n}\r\n</style>","<template> \r\n    <!-- bloc de suppression de compte -->\r\n    <div v-if=\"display\" class=\"modaleBloc\">\r\n        <div @click=\"displayDeleteBloc\" class=\"modaleBloc__overlay\"></div>\r\n        \r\n        <div class=\"modaleBloc__card\">\r\n            <div class=\"modaleBloc__card__title\">\r\n                <h2>Etes-vous sûr de vouloir supprimer votre compte ?</h2>\r\n                <p>(Cette action est irréversible)</p>\r\n                <div class=\"modaleBloc__card__title__close\">\r\n                    <i @click=\"displayDeleteBloc\" class=\"far fa-times-circle fa-2x modaleBloc__card__title__close\"></i>\r\n                </div>\r\n            </div>\r\n\r\n            <button @click=\"deleteAccount\" class=\"modaleBloc__card__button\">Oui, je supprime mon compte</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n//imports\r\n    import axios from 'axios'\r\n    import { Notyf } from 'notyf'\r\n    import 'notyf/notyf.min.css'\r\n\r\n\r\n    export default {\r\n        name: 'DeleteAccount',\r\n        props: ['display', 'displayDeleteBloc'],\r\n        created() {\r\n            this.notyf = new Notyf({\r\n                duration: 2000,\r\n                position: {\r\n                    x: 'center',\r\n                    y: 'bottom'\r\n                }\r\n            });\r\n        },\r\n        methods: {\r\n            // Permet de supprimer le compte et de basculer sur la page d'accueil\r\n            deleteAccount(){\r\n                const userId = localStorage.getItem('userId');\r\n\r\n                axios.delete('http://localhost:3000/api/users/profile/' + userId, {\r\n                    headers: {\r\n                        'Content-Type' : 'application/json',\r\n                        'Authorization': 'Bearer ' + localStorage.getItem('token')\r\n                    }\r\n                })\r\n                .then(() => {\r\n                    this.notyf.success('Votre compte a bien été supprimé')\r\n                    localStorage.clear();\r\n                    this.$router.push('/');\r\n                })\r\n                .catch(error => {\r\n                    const msgerror = error.response.data\r\n                    this.notyf.error(msgerror.error)\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n\r\n<style scoped lang=\"scss\">\r\n    .modaleBloc {\r\n        position: fixed;\r\n        top: 0;\r\n        bottom: 0;\r\n        left: 0;\r\n        right: 0;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        &__overlay {\r\n            background: rgba(0,0,0,0.5);\r\n            position: fixed;\r\n            top: 0;\r\n            bottom: 0;\r\n            left: 0;\r\n            right: 0;\r\n        }\r\n        &__card {\r\n            z-index: 2;\r\n            position: fixed;\r\n            background: #f1f1f1;\r\n            color: #3f3d56;\r\n            &__title {\r\n                display: flex;\r\n                flex-direction: column;\r\n                text-align: center;\r\n                padding: 3rem 6rem 1.5rem 6rem;\r\n                & h2 {\r\n                    margin-top: 0px;\r\n                    @media (max-width: 500px) {\r\n                        font-size: 20px;\r\n                    }\r\n                }\r\n                &__close {\r\n                    position: absolute;\r\n                    top: 1rem;\r\n                    right: 1rem;\r\n                    color: #3f3d56;\r\n                    &:hover, &:focus {\r\n                        color: #ff6363;\r\n                    }\r\n                }\r\n            }\r\n            &__button {\r\n                border: 3px solid #3f3d56;\r\n                border-radius: 25px;\r\n                color: #3f3d56;\r\n                font-size: 15px;\r\n                font-weight: bold;\r\n                padding: 0.9rem;\r\n                margin: 1rem 0 2rem 0;\r\n                outline-style: none;\r\n                &:hover, &:focus {\r\n                    border: 3px solid #ff6363;\r\n                    color: #ff6363;\r\n                }\r\n            }\r\n        }       \r\n    }\r\n</style>","import { render } from \"./DeleteAccount.vue?vue&type=template&id=58e36f82&scoped=true\"\nimport script from \"./DeleteAccount.vue?vue&type=script&lang=js\"\nexport * from \"./DeleteAccount.vue?vue&type=script&lang=js\"\n\nimport \"./DeleteAccount.vue?vue&type=style&index=0&id=58e36f82&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\Clara\\\\Desktop\\\\GrpMVP2.0\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-58e36f82\"]])\n\nexport default __exports__","import { render } from \"./Profile.vue?vue&type=template&id=31be40bc&scoped=true\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\nimport \"./Profile.vue?vue&type=style&index=0&id=31be40bc&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\Clara\\\\Desktop\\\\GrpMVP2.0\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-31be40bc\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Profile.vue?vue&type=style&index=0&id=31be40bc&lang=scss&scoped=true\""],"sourceRoot":""}